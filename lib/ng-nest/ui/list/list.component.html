<div class="x-list">
  <ul *ngIf="!isEmpty" cdkDropList (cdkDropListDropped)="dropCdk($event)" [cdkDropListDisabled]="!drag">
    <li
      class="x-list-item"
      *ngFor="let node of nodes; trackBy: trackByNode"
      [class.x-selected]="node.selected"
      [class.x-disabled]="node.disabled"
      [class.x-list-icon]="node.icon"
      [class.x-list-divided]="node.divided"
      (click)="onNodeClick($event, node)"
      (mouseenter)="onMouseenter($event, node)"
      (mouseleave)="onMouseleave($event, node)"
      cdkDrag
    >
      <span>
        <ng-container *ngIf="!nodeTpl"><x-icon [type]="node.icon" *ngIf="node.icon"></x-icon> {{ node.label }}</ng-container>
        <ng-container *ngIf="nodeTpl">
          <ng-template *ngTemplateOutlet="nodeTpl; context: { $node: node }"></ng-template>
        </ng-container>
      </span>
      <x-icon class="x-list-leaf" type="fto-chevron-right" *ngIf="node.leaf"></x-icon>
      <x-icon class="x-list-checked" type="fto-check" *ngIf="checked && !node.leaf && node.selected"></x-icon>
    </li>
  </ul>
  <x-empty *ngIf="isEmpty"></x-empty>
</div>
